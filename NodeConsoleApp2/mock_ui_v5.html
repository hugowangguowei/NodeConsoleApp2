<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>ç½‘é¡µå›åˆåˆ¶æˆ˜æ–—ç³»ç»Ÿ Demo</title>
<link rel="stylesheet" href="mock_ui_v5.css">
</head>
<body>
<div class="app-shell">
<main>
  <section class="scene-wrapper labeled-block">
    <div class="area-tag">åœºæ™¯åŒº</div>
    <section class="timeline labeled-block">
      <div class="sub-area-tag">è¡ŒåŠ¨é¡ºåºåŒºåŸŸ</div>
      <div class="timeline-item">
        ç©å®¶ Â· é‡æ–©
        <span>é€Ÿåº¦ 14</span>
      </div>
      <div class="timeline-item">
        æ•Œäºº Â· æ¯’åˆƒ
        <span>é€Ÿåº¦ 10</span>
      </div>
      <div class="timeline-item">
        ç©å®¶ Â· é’¢é“é˜²å¾¡
        <span>é€Ÿåº¦ 9</span>
      </div>
      <div class="timeline-item">
        æ•Œäºº Â· é˜²å¾¡
        <span>é€Ÿåº¦ 8</span>
      </div>
    </section>
    <div class="battle-row">
      <section class="hud-panel player-hud labeled-block">
        <div class="sub-area-tag">ç©å®¶çŠ¶æ€åŒºåŸŸ</div>
      <h2>ç©å®¶ï¼šç‹å›½éª‘å£«</h2>
      <div class="hud-stat">
        <span>HP 120 / 150</span>
        <div class="bar hp"><span></span></div>
      </div>
      <div class="hud-stat">
        <span>è¡ŒåŠ¨åŠ›ï¼ˆAPï¼‰ 4 / 6</span>
        <div class="bar ap"><span></span></div>
      </div>
      <div class="status-row">
         <span class="status-label">BUFF</span>
         <div class="status-icons">
           <div class="status-icon buff" data-name="åœ£å…‰æŠ¤ç›¾" data-desc="å—å‡»æ—¶å‡å…20%ä¼¤å®³"></div>
         </div>
       </div>
       <div class="status-row">
         <span class="status-label">DEBUFF</span>
         <div class="status-icons">
           <div class="status-icon neutral" data-name="æ— å‡ç›Š" data-desc="å½“å‰æ— å¼‚å¸¸çŠ¶æ€"></div>
         </div>
       </div>
       <div class="armor-list-wrapper">
        <div class="armor-row">
          <span class="armor-name">å¤´éƒ¨</span>
          <div class="armor-bar"><span style="width:50%"></span></div>
          <span class="armor-value">30 / 30</span>
        </div>
        <div class="armor-row">
          <span class="armor-name">èƒ¸éƒ¨</span>
          <div class="armor-bar"><span style="width:75%"></span></div>
          <span class="armor-value">45 / 60</span>
        </div>
        <div class="armor-row">
          <span class="armor-name">è…¹éƒ¨</span>
          <div class="armor-bar"><span style="width:58.3%"></span></div>
          <span class="armor-value">35 / 50</span>
        </div>
        <div class="armor-row">
          <span class="armor-name">å·¦è‡‚</span>
          <div class="armor-bar"><span style="width:46.7%"></span></div>
          <span class="armor-value">28 / 40</span>
        </div>
        <div class="armor-row">
          <span class="armor-name">å³è‡‚</span>
          <div class="armor-bar"><span style="width:53.3%"></span></div>
          <span class="armor-value">32 / 40</span>
        </div>
        <div class="armor-row">
          <span class="armor-name">å·¦è…¿</span>
          <div class="armor-bar"><span style="width:36.7%"></span></div>
          <span class="armor-value">22 / 35</span>
        </div>
        <div class="armor-row">
          <span class="armor-name">å³è…¿</span>
          <div class="armor-bar"><span style="width:33.3%"></span></div>
          <span class="armor-value">20 / 35</span>
        </div>
       </div>
       </section>
      <section class="battle-scene labeled-block">
        <div class="sub-area-tag">æˆ˜æ–—åœºæ™¯åŒºåŸŸ</div>
        
        <!-- 1. èƒŒæ™¯å±‚ (Stage Background) -->
        <div class="stage-background">
          <!-- å¯é€‰ï¼šè¿œæ™¯ã€ä¸­æ™¯ã€è¿‘æ™¯åœ°æ¿ -->
          <div class="stage-sky"></div>
          <div class="stage-floor"></div>
        </div>
        
        <!-- 2. è§’è‰²å±‚ (Fighters Layer) -->
        <div class="fighters-layer">
          <!-- ç©å®¶è§’è‰² -->
          <div class="fighter player-character">
            <!-- è§’è‰²å®¹å™¨ï¼šæ”¯æŒåˆ†å±‚æ¢è£… -->
            <div class="character-sprite-container">
               <div class="sprite-layer body"></div>   <!-- ç´ ä½“ -->
               <div class="sprite-layer armor"></div>  <!-- æŠ¤ç”² -->
               <div class="sprite-layer weapon"></div> <!-- æ­¦å™¨ -->
            </div>
            <div class="character-shadow"></div> <!-- è„šåº•é˜´å½± -->
            <div class="effect-anchor"></div>    <!-- ç‰¹æ•ˆæŒ‚è½½ç‚¹ -->
          </div>
          
          <!-- æ•Œæ–¹è§’è‰² -->
          <div class="fighter enemy-character">
            <div class="character-sprite-container">
               <div class="sprite-layer body"></div>
               <div class="sprite-layer armor"></div>
               <div class="sprite-layer weapon"></div>
            </div>
            <div class="character-shadow"></div>
            <div class="effect-anchor"></div>
          </div>
        </div>
        
        <!-- 3. ç‰¹æ•ˆå±‚ (FX Layer) -->
        <div class="fx-layer">
          <!-- ç”¨äºæ’­æ”¾æ‰“å‡»ç«èŠ±ã€ä¼¤å®³æ•°å­—ç­‰ -->
        </div>
      </section>
      <section class="hud-panel enemy-hud labeled-block">
        <div class="sub-area-tag">æ•Œæ–¹çŠ¶æ€åŒºåŸŸ</div>
      <h2>æ•Œäººï¼šæš—å½±åˆºå®¢</h2>
      <div class="hud-stat">
        <span>HP 80 / 120</span>
        <div class="bar hp"><span style="width:65%"></span></div>
      </div>
      <div class="hud-stat">
        <span>è¡ŒåŠ¨åŠ›ï¼ˆAPï¼‰ 3 / 5</span>
        <div class="bar ap"><span style="width:60%"></span></div>
      </div>
      <div class="status-row">
         <span class="status-label">BUFF</span>
         <div class="status-icons">
           <div class="status-icon buff" data-name="æš—å½±æ½œè¡Œ" data-desc="é—ªé¿æå‡15%"></div>
         </div>
       </div>
       <div class="status-row">
         <span class="status-label">DEBUFF</span>
         <div class="status-icons">
           <div class="status-icon debuff" data-name="æµè¡€" data-desc="æ¯å›åˆ -8 HP"></div>
         </div>
       </div>
       <div class="armor-list-wrapper">
        <div class="armor-row">
          <span class="armor-name">å¤´éƒ¨</span>
          <div class="armor-bar"><span style="width:30%"></span></div>
          <span class="armor-value">15 / 30</span>
        </div>
        <div class="armor-row">
          <span class="armor-name">èƒ¸éƒ¨</span>
          <div class="armor-bar"><span style="width:20%"></span></div>
          <span class="armor-value">10 / 50</span>
        </div>
        <div class="armor-row">
          <span class="armor-name">è…¹éƒ¨</span>
          <div class="armor-bar"><span style="width:36%"></span></div>
          <span class="armor-value">18 / 40</span>
        </div>
        <div class="armor-row">
          <span class="armor-name">å·¦è‡‚</span>
          <div class="armor-bar"><span style="width:16%"></span></div>
          <span class="armor-value">8 / 30</span>
        </div>
        <div class="armor-row">
          <span class="armor-name">å³è‡‚</span>
          <div class="armor-bar"><span style="width:24%"></span></div>
          <span class="armor-value">12 / 30</span>
        </div>
        <div class="armor-row">
          <span class="armor-name">å·¦è…¿</span>
          <div class="armor-bar"><span style="width:50%"></span></div>
          <span class="armor-value">25 / 35</span>
        </div>
        <div class="armor-row">
          <span class="armor-name">å³è…¿</span>
          <div class="armor-bar"><span style="width:54%"></span></div>
          <span class="armor-value">27 / 35</span>
        </div>
       </div>
        </section>
    </div>
  </section>

  <section class="action-panel labeled-block">
    <div class="area-tag">æŠ€èƒ½æ“ä½œåŒºåŸŸ</div>
    <div class="skill-panel">
      <div class="skill-selection-wrapper">
        <div class="skill-grid-view" id="skillList">
          <button type="button" class="skill-icon-button type-offense active" data-name="é‡æ–©" data-type="è¿‘æˆ˜æŠ€èƒ½" data-cost="AP 2" data-speed="é€Ÿåº¦ +1" data-target="å‘½ä¸­éƒ¨ä½ï¼šèº¯å¹²" data-effect="å¯¹ç›®æ ‡é€ æˆ 150% ç‰©ç†ä¼¤å®³ã€‚" data-tags="å•ä½“,ç‰©ç†" data-tip="åŸºç¡€çš„é«˜ä¼¤å®³æŠ€èƒ½" data-sort-cost="2" data-sort-target="single">âš”ï¸</button>
          <button type="button" class="skill-icon-button type-offense" data-name="ç«çƒæœ¯" data-type="é­”æ³•æŠ€èƒ½" data-cost="AP 3" data-speed="é€Ÿåº¦ -1" data-target="å‘½ä¸­éƒ¨ä½ï¼šå…¨èº«" data-effect="é€ æˆ 120% ç«ç„°ä¼¤å®³ï¼Œå¹¶é™„åŠ ç‡ƒçƒ§æ•ˆæœã€‚" data-tags="é­”æ³•,ç‡ƒçƒ§" data-tip="å¯¹é«˜æŠ¤ç”²å•ä½æœ‰æ•ˆ" data-sort-cost="3" data-sort-target="single">ğŸ”¥</button>
          <button type="button" class="skill-icon-button type-defense" data-name="æ²»æ„ˆä¹‹å…‰" data-type="ç¥åœ£æŠ€èƒ½" data-cost="AP 2" data-speed="é€Ÿåº¦ 0" data-target="æ•ˆæœï¼šæ¢å¤ç”Ÿå‘½" data-effect="ä¸ºå‹æ–¹å•ä½æ¢å¤ 40 ç‚¹ç”Ÿå‘½å€¼ã€‚" data-tags="æ²»ç–—,ç¥åœ£" data-tip="ä¿æŒé˜Ÿä¼ç”Ÿå­˜" data-sort-cost="2" data-sort-target="ally">âœ¨</button>
          <button type="button" class="skill-icon-button type-defense" data-name="é’¢é“é˜²å¾¡" data-type="é˜²å¾¡æŠ€èƒ½" data-cost="AP 1" data-speed="é€Ÿåº¦ +2" data-target="æ•ˆæœï¼šæå‡æŠ¤ç”²" data-effect="è·å¾— 20 ç‚¹ä¸´æ—¶æŠ¤ç”²ï¼ŒæŒç»­ 1 å›åˆã€‚" data-tags="é˜²å¾¡,æŠ¤ç”²" data-tip="é¢„åˆ¤æ•Œæ–¹æ”»å‡»æ—¶ä½¿ç”¨" data-sort-cost="1" data-sort-target="self">ğŸ›¡ï¸</button>
          <button type="button" class="skill-icon-button type-offense" data-name="äºŒè¿å‡»" data-type="è¿‘æˆ˜æŠ€èƒ½" data-cost="AP 2" data-speed="é€Ÿåº¦ +2" data-target="å‘½ä¸­éƒ¨ä½ï¼šéšæœº" data-effect="è¿›è¡Œä¸¤æ¬¡å¿«é€Ÿæ”»å‡»ï¼Œæ¯æ¬¡é€ æˆ 60% ä¼¤å®³ã€‚" data-tags="å¤šæ®µ,ç‰©ç†" data-tip="é€‚åˆç ´é™¤é—ªé¿" data-sort-cost="2" data-sort-target="random">âš”ï¸</button>
          <button type="button" class="skill-icon-button type-offense" data-name="å†°é”¥æœ¯" data-type="é­”æ³•æŠ€èƒ½" data-cost="AP 2" data-speed="é€Ÿåº¦ 0" data-target="å‘½ä¸­éƒ¨ä½ï¼šè…¿éƒ¨" data-effect="é€ æˆ 80% å†°éœœä¼¤å®³ï¼Œå¹¶é™ä½ç›®æ ‡é€Ÿåº¦ã€‚" data-tags="é­”æ³•,å‡é€Ÿ" data-tip="æ§åˆ¶æ•Œæ–¹è¡ŒåŠ¨é¡ºåº" data-sort-cost="2" data-sort-target="single">â„ï¸</button>
          <button type="button" class="skill-icon-button type-offense" data-name="é›·å‡»" data-type="é­”æ³•æŠ€èƒ½" data-cost="AP 4" data-speed="é€Ÿåº¦ -2" data-target="å‘½ä¸­éƒ¨ä½ï¼šå¤´éƒ¨" data-effect="é€ æˆ 200% é›·ç”µä¼¤å®³ï¼Œæœ‰å‡ ç‡çœ©æ™•ç›®æ ‡ã€‚" data-tags="é­”æ³•,æ§åˆ¶" data-tip="é«˜æ¶ˆè€—é«˜å›æŠ¥" data-sort-cost="4" data-sort-target="single">âš¡</button>
          <button type="button" class="skill-icon-button type-offense" data-name="æ¯’åˆƒ" data-type="ç›—è´¼æŠ€èƒ½" data-cost="AP 1" data-speed="é€Ÿåº¦ +3" data-target="å‘½ä¸­éƒ¨ä½ï¼šå››è‚¢" data-effect="é€ æˆ 50% ä¼¤å®³ï¼Œå¹¶æ–½åŠ ä¸­æ¯’æ•ˆæœã€‚" data-tags="ç‰©ç†,æŒç»­ä¼¤å®³" data-tip="é•¿æœŸæˆ˜æ–—ä¸­æ”¶ç›Šé«˜" data-sort-cost="1" data-sort-target="single">ğŸ—¡ï¸</button>
          <button type="button" class="skill-icon-button type-offense" data-name="ç›¾å‡»" data-type="é˜²å¾¡æŠ€èƒ½" data-cost="AP 2" data-speed="é€Ÿåº¦ +1" data-target="å‘½ä¸­éƒ¨ä½ï¼šå¤´éƒ¨" data-effect="é€ æˆ 80% ä¼¤å®³ï¼Œå¹¶æ‰“æ–­ç›®æ ‡æ–½æ³•ã€‚" data-tags="ç‰©ç†,æ‰“æ–­" data.tip="ç”¨äºååˆ¶æ³•å¸ˆ" data-sort-cost="2" data-sort-target="single">ğŸ›¡ï¸</button>
          <button type="button" class="skill-icon-button type-offense" data-name="å¥¥æœ¯é£å¼¹" data-type="é­”æ³•æŠ€èƒ½" data-cost="AP 3" data-speed="é€Ÿåº¦ +1" data-target="å‘½ä¸­éƒ¨ä½ï¼šéšæœº" data-effect="å‘å°„ 3 æšé£å¼¹ï¼Œæ¯æšé€ æˆ 40% å¥¥æœ¯ä¼¤å®³ã€‚" data-tags="é­”æ³•,å¤šæ®µ" data-tip="ç¨³å®šçš„è¾“å‡ºæ‰‹æ®µ" data-sort-cost="3" data-sort-target="random">ğŸ”®</button>
          <button type="button" class="skill-icon-button type-command" data-name="æˆ˜å¼" data-type="æˆ˜æœ¯æŠ€èƒ½" data-cost="AP 1" data-speed="ç«‹å³" data-target="æ•ˆæœï¼šå…¨ä½“å¢ç›Š" data-effect="å‹æ–¹å…¨ä½“æ”»å‡»åŠ›æå‡ 10%ï¼ŒæŒç»­ 2 å›åˆã€‚" data-tags="å¢ç›Š,ç¾¤ä½“" data-tip="çˆ†å‘å‰ä½¿ç”¨" data-sort-cost="1" data-sort-target="global">ğŸ—£ï¸</button>
          <button type="button" class="skill-icon-button type-offense" data-name="æ—‹é£æ–©" data-type="è¿‘æˆ˜æŠ€èƒ½" data-cost="AP 4" data-speed="é€Ÿåº¦ -1" data-target="å‘½ä¸­éƒ¨ä½ï¼šç¾¤ä½“" data-effect="å¯¹æ‰€æœ‰æ•Œäººé€ æˆ 100% ç‰©ç†ä¼¤å®³ã€‚" data-tags="ç‰©ç†,AOE" data_tip="é¢å¯¹å¤šä¸ªæ•Œäººæ—¶ä½¿ç”¨" data-sort-cost="4" data-sort-target="aoe">ğŸŒªï¸</button>
          <button type="button" class="skill-icon-button type-offense" data-name="ç¥åœ£æƒ©å‡»" data-type="ç¥åœ£æŠ€èƒ½" data-cost="AP 2" data-speed="é€Ÿåº¦ 0" data-target="å‘½ä¸­éƒ¨ä½ï¼šèº¯å¹²" data-effect="é€ æˆ 130% ç¥åœ£ä¼¤å®³ï¼Œå¯¹äº¡çµç”Ÿç‰©åŠ å€ã€‚" data-tags="é­”æ³•,ç¥åœ£" data-tip="é’ˆå¯¹äº¡çµæ•Œäºº" data-sort-cost="2" data-sort-target="single">âœï¸</button>
          <button type="button" class="skill-icon-button type-command" data-name="æš—å½±æ­¥" data-type="ç›—è´¼æŠ€èƒ½" data-cost="AP 1" data-speed="ç«‹å³" data-target="æ•ˆæœï¼šä½ç§»" data-effect="ç§»åŠ¨åˆ°ç›®æ ‡èƒŒåï¼Œä¸‹ä¸€æ¬¡æ”»å‡»å¿…å®šæš´å‡»ã€‚" data-tags="ä½ç§»,å¢ç›Š" data-tip="é…åˆé«˜ä¼¤æŠ€èƒ½ä½¿ç”¨" data-sort-cost="1" data-sort-target="self">ğŸ‘»</button>
          <button type="button" class="skill-icon-button type-offense" data-name="ç”Ÿå‘½å¸å–" data-type="æš—å½±æŠ€èƒ½" data-cost="AP 3" data-speed="é€Ÿåº¦ -1" data-target="å‘½ä¸­éƒ¨ä½ï¼šèº¯å¹²" data-effect="é€ æˆ 80% æ€ä¼¤ï¼Œå¹¶å°†ä¼¤å®³è½¬åŒ–ä¸ºè‡ªèº«ç”Ÿå‘½ã€‚" data-tags="é­”æ³•,å¸è¡€" data-tip="æ”»å®ˆå…¼å¤‡" data-sort-cost="3" data-sort-target="single">ğŸ©¸</button>
          <button type="button" class="skill-icon-button type-offense" data-name="åœ°éœ‡æœ¯" data-type="è‡ªç„¶æŠ€èƒ½" data-cost="AP 5" data-speed="é€Ÿåº¦ -3" data-target="å‘½ä¸­éƒ¨ä½ï¼šç¾¤ä½“" data-effect="å¯¹æ‰€æœ‰åœ°é¢å•ä½é€ æˆ 150% æ€ä¼¤ï¼Œå¹¶é™ä½é—ªé¿ã€‚" data-tags="é­”æ³•,AOE" data_tip="å¼ºåŠ›æ¸…åœºæŠ€èƒ½" data-sort-cost="5" data-sort-target="aoe">ğŸŒ</button>
          <button type="button" class="skill-icon-button type-defense" data-name="ç–¾é£æ­¥" data-type="è‡ªç„¶æŠ€èƒ½" data-cost="AP 2" data-speed="ç«‹å³" data-target="æ•ˆæœï¼šéšèº«" data-effect="è¿›å…¥éšèº«çŠ¶æ€ï¼Œé—ªé¿ç‡æå‡ 50%ã€‚" data-tags="ç”Ÿå­˜,éšèº«" data_tip="èº²é¿è‡´å‘½ä¼¤å®³" data-sort-cost="2" data-sort-target="self">ğŸƒ</button>
          <button type="button" class="skill-icon-button type-command" data-name="ç‹‚æš´" data-type="æˆ˜æœ¯æŠ€èƒ½" data-cost="AP 0" data-speed="ç«‹å³" data-target="æ•ˆæœï¼šè‡ªèº«å¼ºåŒ–" data-effect="æ”»å‡»åŠ›æå‡ 50%ï¼Œä½†å—åˆ°çš„ä¼¤å®³ä¹Ÿå¢åŠ  20%ã€‚" data-tags="å¢ç›Š,é£é™©" data_tip="æ‹¼å‘½æ—¶ä½¿ç”¨" data-sort-cost="0" data-sort-target="self">ğŸ˜¡</button>
          <button type="button" class="skill-icon-button type-offense" data-name="é™¨çŸ³æœ¯" data-type="é­”æ³•æŠ€èƒ½" data-cost="AP 6" data-speed="é€Ÿåº¦ -5" data-target="å‘½ä¸­éƒ¨ä½ï¼šç¾¤ä½“" data-effect="å¬å”¤é™¨çŸ³ï¼Œé€ æˆ 300% æ¯ç­æ€§ä¼¤å®³ã€‚" data-tags="é­”æ³•,ç»ˆæ" data_tip="æ¶ˆè€—å·¨å¤§ä½†å¨åŠ›æƒŠäºº" data-sort-cost="6" data-sort-target="aoe">â˜„ï¸</button>
          <button type="button" class="skill-icon-button type-defense" data-name="åå‡»å§¿æ€" data-type="æˆ˜æœ¯æŠ€èƒ½" data-cost="AP 2" data-speed="é€Ÿåº¦ +1" data-target="æ•ˆæœï¼šåå‡»" data-effect="å—åˆ°è¿‘æˆ˜æ”»å‡»æ—¶ï¼Œè‡ªåŠ¨åå‡»é€ æˆ 80% æ€ä¼¤ã€‚" data-tags="é˜²å¾¡,åå‡»" data_tip="å¯¹ä»˜è¿‘æˆ˜æ•Œäºº" data-sort-cost="2" data-sort-target="self">ğŸ¤º</button>
          <button type="button" class="skill-icon-button type-defense" data-name="ç¥ç¦" data-type="ç¥åœ£æŠ€èƒ½" data-cost="AP 2" data-speed="é€Ÿåº¦ 0" data-target="æ•ˆæœï¼šé©±æ•£" data-effect="ç§»é™¤å‹æ–¹å•ä½çš„æ‰€æœ‰è´Ÿé¢çŠ¶æ€ã€‚" data-tags="è¾…åŠ©,é©±æ•£" data_tip="åº”å¯¹æ§åˆ¶å’ŒæŒç»­ä¼¤å®³" data-sort-cost="2" data-sort-target="ally">ğŸ™</button>
          <button type="button" class="skill-icon-button type-offense" data-name="è¯…å’’" data-type="æš—å½±æŠ€èƒ½" data-cost="AP 2" data-speed="é€Ÿåº¦ 0" data-target="å‘½ä¸­éƒ¨ä½ï¼šç²¾ç¥" data-effect="ä½¿ç›®æ ‡é€ æˆçš„ä¼¤å®³é™ä½ 30%ã€‚" data-tags="é­”æ³•,å‡ç›Š" data.tip="å‰Šå¼±å¼ºåŠ›æ•Œäºº" data-sort-cost="2" data-sort-target="single">ğŸ’€</button>
          <button type="button" class="skill-icon-button type-command" data-name="å¬å”¤å¹½çµç‹¼" data-type="è‡ªç„¶æŠ€èƒ½" data-cost="AP 4" data-speed="é€Ÿåº¦ -2" data-target="æ•ˆæœï¼šå¬å”¤" data-effect="å¬å”¤ä¸€åªå¹½çµç‹¼ååŠ©æˆ˜æ–—ã€‚" data-tags="å¬å”¤,è¾…åŠ©" data_tip="å¢åŠ æˆ˜åœºå•ä½" data-sort-cost="4" data-sort-target="global">ğŸº</button>
          <button type="button" class="skill-icon-button type-defense" data-name="æ³•åŠ›æŠ¤ç›¾" data-type="é­”æ³•æŠ€èƒ½" data-cost="AP 1" data-speed="ç«‹å³" data-target="æ•ˆæœï¼šæŠ¤ç›¾" data-effect="æ¶ˆè€—æ³•åŠ›å€¼æŠµæ¶ˆå—åˆ°çš„ä¼¤å®³ã€‚" data-tags="é˜²å¾¡,é­”æ³•" data_tip="ä¿æŠ¤è„†å¼±çš„æ³•å¸ˆ" data-sort-cost="1" data-sort-target="self">ğŸ”µ</button>
          <button type="button" class="skill-icon-button type-offense" data-name="æ–©æ€" data-type="è¿‘æˆ˜æŠ€èƒ½" data-cost="AP 3" data-speed="é€Ÿåº¦ +1" data-target="å‘½ä¸­éƒ¨ä½ï¼šèº¯å¹²" data-effect="å¯¹ç”Ÿå‘½å€¼ä½äº 30% çš„ç›®æ ‡é€ æˆå·¨é¢ä¼¤å®³ã€‚" data-tags="ç‰©ç†,ç»ˆç»“" data_tip="æ”¶å‰²æ®‹è¡€æ•Œäºº" data-sort-cost="3" data-sort-target="single">â˜ ï¸</button>
        </div>
        <div class="skill-sort-bar" id="skillSortBar">
          <button class="sort-btn active" data-sort="default">é»˜è®¤æ’åº</button>
          <button class="sort-btn" data-sort="cost">APæ¶ˆè€—</button>
          <button class="sort-btn" data-sort="target">ç›®æ ‡ç±»å‹</button>
        </div>
      </div>
      <section class="skill-detail" id="skillDetail">
        <h4 id="detailName">é‡æ–©</h4>
        <div class="detail-meta" id="detailMeta">è¿‘æˆ˜æŠ€èƒ½ Â· AP 2 Â· é€Ÿåº¦ +1</div>
        <p class="detail-body" id="detailEffect"><strong>æ•ˆæœ</strong>ï¼šå¯¹ç›®æ ‡é€ æˆ 150% ç‰©ç†ä¼¤å®³ã€‚</p>
        <p class="detail-body" id="detailTarget"><strong>å‘½ä¸­èŒƒå›´</strong>ï¼šå‘½ä¸­éƒ¨ä½ï¼šèº¯å¹²ã€‚</p>
        <p class="detail-body" id="detailTip"><strong>æˆ˜æœ¯æç¤º</strong>ï¼šåŸºç¡€çš„é«˜ä¼¤å®³æŠ€èƒ½ã€‚</p>
        <div class="detail-tags" id="detailTags">
          <span>å•ä½“</span>
          <span>ç‰©ç†</span>
        </div>
      </section>
    </div>
    <aside class="turn-panel">
      <h4>å›åˆæ§åˆ¶</h4>
      <div class="turn-buttons">
        <button type="button" class="turn-button">ä¸Šä¸€å›åˆ</button>
        <button type="button" class="turn-button warning">æš‚åœ</button>
        <button type="button" class="turn-button primary">å¼€å§‹</button>
      </div>
    </aside>
   </section>
</main>
<footer>ç¤ºæ„å›¾ä»…ä¾›ç­–åˆ’æ²Ÿé€šï¼Œæœ€ç»ˆè¡¨ç°ç”± UI / ç¾æœ¯è¿›ä¸€æ­¥è®¾è®¡ã€‚</footer>

<button class="system-menu-btn" id="systemMenuBtn">âš™ï¸</button>

<div id="systemModal" class="modal-backdrop">
  <div class="modal-panel">
    <header class="modal-header">
      <h3 class="modal-title" id="modalTitle">ç³»ç»Ÿèœå•</h3>
      <button class="modal-close-btn" id="modalCloseBtn">Ã—</button>
    </header>
    <div class="modal-body" id="modalBody">
      <!-- Dynamic Content -->
    </div>
    <footer class="modal-footer" id="modalFooter">
      <!-- Dynamic Actions -->
    </footer>
  </div>
</div>

</div>
<script>
(function () {
  const list = document.getElementById('skillList');
  if (!list) {
    return;
  }
  const detail = {
    name: document.getElementById('detailName'),
    meta: document.getElementById('detailMeta'),
    effect: document.getElementById('detailEffect'),
    target: document.getElementById('detailTarget'),
    tip: document.getElementById('detailTip'),
    tags: document.getElementById('detailTags')
  };

  function updateDetail(button) {
    if (!button) {
      return;
    }
    list.querySelectorAll('.skill-icon-button').forEach(btn => btn.classList.remove('active'));
    button.classList.add('active');
    detail.name.textContent = button.dataset.name || '';
    detail.meta.textContent = `${button.dataset.type || ''} Â· ${button.dataset.cost || ''} Â· ${button.dataset.speed || ''}`.trim();
    detail.effect.innerHTML = `<strong>æ•ˆæœ</strong>ï¼š${button.dataset.effect || ''}`;
    detail.target.innerHTML = `<strong>å‘½ä¸­èŒƒå›´</strong>ï¼š${button.dataset.target || ''}`;
    detail.tip.innerHTML = `<strong>æˆ˜æœ¯æç¤º</strong>ï¼š${button.dataset.tip || ''}`;
    const tags = (button.dataset.tags || '').split(',').map(tag => tag.trim()).filter(Boolean);
    detail.tags.innerHTML = tags.map(tag => `<span>${tag}</span>`).join('');
  }

  list.addEventListener('click', event => {
    const button = event.target.closest('.skill-icon-button');
    if (button) {
      updateDetail(button);
    }
  });

  // Sorting Logic
  const sortBar = document.getElementById('skillSortBar');
  if (sortBar) {
    const originalOrder = Array.from(list.children);
    
    sortBar.addEventListener('click', event => {
      const btn = event.target.closest('.sort-btn');
      if (!btn) return;

      // Update active state
      sortBar.querySelectorAll('.sort-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');

      const sortType = btn.dataset.sort;
      const items = Array.from(list.children);

      if (sortType === 'default') {
        items.sort((a, b) => originalOrder.indexOf(a) - originalOrder.indexOf(b));
      } else if (sortType === 'cost') {
        items.sort((a, b) => {
          const costA = parseInt(a.dataset.sortCost || 0);
          const costB = parseInt(b.dataset.sortCost || 0);
          return costA - costB;
        });
      } else if (sortType === 'target') {
        items.sort((a, b) => {
          const targetA = a.dataset.sortTarget || '';
          const targetB = b.dataset.sortTarget || '';
          return targetA.localeCompare(targetB);
        });
      }

      // Re-append in new order
      items.forEach(item => list.appendChild(item));
    });
  }

  updateDetail(list.querySelector('.skill-icon-button.active') || list.querySelector('.skill-icon-button'));

  // System Modal Logic
  const modal = {
    backdrop: document.getElementById('systemModal'),
    title: document.getElementById('modalTitle'),
    body: document.getElementById('modalBody'),
    footer: document.getElementById('modalFooter'),
    closeBtn: document.getElementById('modalCloseBtn'),
    menuBtn: document.getElementById('systemMenuBtn'),
    
    show(title, contentRenderer, footerRenderer) {
      this.title.textContent = title;
      this.body.innerHTML = '';
      this.footer.innerHTML = '';
      
      if (contentRenderer) contentRenderer(this.body);
      if (footerRenderer) footerRenderer(this.footer);
      
      this.backdrop.classList.add('visible');
    },
    
    hide() {
      this.backdrop.classList.remove('visible');
    }
  };

  if (modal.closeBtn) modal.closeBtn.addEventListener('click', () => modal.hide());
  if (modal.menuBtn) modal.menuBtn.addEventListener('click', () => showMainMenu());

  // View Renderers
  function showMainMenu() {
    modal.show('æ¸¸æˆèœå•', (container) => {
      const menu = document.createElement('div');
      menu.className = 'menu-list';
      
      const items = [
        { label: 'ç»§ç»­æ¸¸æˆ', action: () => modal.hide() },
        { label: 'å…³å¡é€‰æ‹©', action: () => showLevelSelect() },
        { label: 'å­˜æ¡£ / è¯»æ¡£', action: () => showSaveLoad() },
        { label: 'è®¾ç½®', action: () => alert('è®¾ç½®åŠŸèƒ½å¼€å‘ä¸­') },
        { label: 'è¿”å›æ ‡é¢˜', action: () => location.reload() }
      ];
      
      items.forEach(item => {
        const btn = document.createElement('button');
        btn.className = 'menu-btn';
        btn.textContent = item.label;
        btn.onclick = item.action;
        menu.appendChild(btn);
      });
      
      container.appendChild(menu);
    });
  }

  function showLevelSelect() {
    modal.show('é€‰æ‹©å…³å¡', (container) => {
      const grid = document.createElement('div');
      grid.className = 'level-grid';
      
      const levels = [
        { id: '1-1', name: 'æ£®æ—è¾¹ç¼˜', desc: 'Lv.1 - å²è±å§†' },
        { id: '1-2', name: 'å¹½æš—å¯†æ—', desc: 'Lv.3 - ç‹¼ç¾¤' },
        { id: '1-3', name: 'ç²¾çµé—è¿¹', desc: 'Lv.5 - é¦–é¢†' },
        { id: '2-1', name: 'æ´ç©´å…¥å£', desc: 'Lv.7 - è™è ' },
        { id: '2-2', name: 'åœ°ä¸‹æ·±å¤„', desc: 'Lv.9 - èœ˜è››' }
      ];
      
      levels.forEach(lvl => {
        const card = document.createElement('div');
        card.className = 'level-card';
        card.innerHTML = `<h4>${lvl.id}</h4><p>${lvl.name}</p><p>${lvl.desc}</p>`;
        card.onclick = () => {
          console.log(`Starting level ${lvl.id}`);
          modal.hide();
        };
        grid.appendChild(card);
      });
      
      container.appendChild(grid);
    }, (footer) => {
      const backBtn = document.createElement('button');
      backBtn.className = 'btn-primary';
      backBtn.textContent = 'è¿”å›';
      backBtn.onclick = () => showMainMenu();
      footer.appendChild(backBtn);
    });
  }

  function showSaveLoad() {
    modal.show('å­˜æ¡£ / è¯»æ¡£', (container) => {
      const slots = [
        { id: 1, date: '2023-10-27 10:30', level: '1-2', hp: '80%' },
        { id: 2, date: 'ç©º', level: '-', hp: '-' },
        { id: 3, date: 'ç©º', level: '-', hp: '-' }
      ];
      
      slots.forEach(slot => {
        const el = document.createElement('div');
        el.className = 'save-slot';
        
        const info = document.createElement('div');
        info.className = 'save-slot-info';
        info.innerHTML = `<h4>å­˜æ¡£ä½ ${slot.id}</h4><div class="save-slot-meta">${slot.date} | å…³å¡: ${slot.level}</div>`;
        
        const actions = document.createElement('div');
        actions.className = 'slot-actions';
        
        const saveBtn = document.createElement('button');
        saveBtn.className = 'btn-primary';
        saveBtn.textContent = 'ä¿å­˜';
        saveBtn.onclick = () => {
            alert(`æ¸¸æˆå·²ä¿å­˜è‡³å­˜æ¡£ä½ ${slot.id}`);
            showSaveLoad(); // Refresh
        };
        
        const loadBtn = document.createElement('button');
        loadBtn.className = 'btn-primary';
        loadBtn.textContent = 'è¯»å–';
        loadBtn.disabled = slot.date === 'ç©º';
        loadBtn.onclick = () => {
            alert(`æ­£åœ¨è¯»å–å­˜æ¡£ä½ ${slot.id}...`);
            modal.hide();
        };

        actions.appendChild(saveBtn);
        actions.appendChild(loadBtn);
        
        el.appendChild(info);
        el.appendChild(actions);
        container.appendChild(el);
      });
    }, (footer) => {
      const backBtn = document.createElement('button');
      backBtn.className = 'btn-primary';
      backBtn.textContent = 'è¿”å›';
      backBtn.onclick = () => showMainMenu();
      footer.appendChild(backBtn);
    });
  }

})();
</script>
</body>
</html>
