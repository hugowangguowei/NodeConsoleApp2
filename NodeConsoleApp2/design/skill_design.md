# 技能系统设计文档 (Skill System Design)

## 1. 技能综述 (Overview)

本游戏的技能系统构建于经典的 **西方奇幻 (Western Fantasy)** 背景之上。
技能是玩家与敌人交互的主要手段，也是构建角色流派 (Build) 的核心要素。

*   **核心理念**: 技能不仅仅是伤害输出的手段，更是策略执行的工具。
*   **技能类型**:
    *   **攻击型 (Offensive)**: 削减敌人 HP 或破坏护甲。
    *   **防御型 (Defensive)**: 增加临时护甲、格挡伤害或进行回复。
    *   **辅助/控制型 (Support/Control)**: 施加 Buff (增益) 或 Debuff (减益)，改变战斗节奏。
*   **资源消耗**: 所有技能均消耗行动力 (AP)。强力技能通常消耗更多 AP 或有冷却限制。

---

## 2. 技能体系架构 (Skill Architecture)

技能体系主要分为三大主系，下设 7 个具体的战术流派。此外，技能根据获取难度和强度划分为 5 个稀有度等级。

### 2.1 近战系 (Melee Arts) - 钢铁与肉体
强调物理对抗，直接作用于敌人的护甲与肉体。

*   **流派 A: 重装猛攻 (Juggernaut / Smasher)**
    *   *特点*: 高伤害，高 AP 消耗，专注于 **[破甲]** 和 **[眩晕]**。
    *   *核心逻辑*: 依靠蛮力摧毁敌人的防御，为后续攻击打开缺口。
*   **流派 B: 铁壁守卫 (Guardian / Tank)**
    *   *特点*: 护甲堆叠，反击，生存。
    *   *核心逻辑*: 通过 **[护甲回复]** 和 **[格挡]** 承受伤害，利用反击造成伤害。
*   **流派 C: 猩红剑术 (Duelist / Bleeder)**
    *   *特点*: 暴击，流血，多段攻击。
    *   *核心逻辑*: 绕过高护甲部位，或通过 **[流血 (Bleed)]** 造成持续真实伤害。

### 2.2 远程系 (Ranged Arts) - 速度与精准
强调技巧与灵动，擅长点杀特定部位和控制节奏。

*   **流派 D: 极速游侠 (Ranger / Speedster)**
    *   *特点*: 低 AP 消耗，行动力回复，攻速堆叠。
    *   *核心逻辑*: "天下武功唯快不破"，单回合内打出多次攻击，触发多次特效。
*   **流派 E: 精密狙击 (Sniper / Weakness)**
    *   *特点*: 必中，穿透，弱点打击。
    *   *核心逻辑*: 攻击具有 **[弱点 (Weakness)]** 属性的部位时伤害倍增，甚至无视护甲。

### 2.3 魔法系 (Arcane Arts) - 元素与神圣
强调超自然力量，擅长处理复杂战况和改变状态。

*   **流派 F: 元素毁灭 (Elementalist / Nuker)**
    *   *特点*: 属性伤害 (火/冰/雷)，状态异常。
    *   *核心逻辑*: **[燃烧]** 持续扣血，**[冰冻]** 降低速度，**[感电]** 增加受到的伤害。
*   **流派 G: 神圣祝祷 (Cleric / Buffer)**
    *   *特点*: 治疗，净化，强力 Buff。
    *   *核心逻辑*: 维持自身健康状态，不仅是回血，更包括 **[净化 Debuff]** 和 **[属性增强]**。

### 2.4 技能稀有度 (Skill Rarity)

技能按稀缺度和强度分为 5 个等级，稀有度越高的技能越难获取（如通过击败 Boss 或精英怪掉落），且通常具有决定性的战场影响力。

*   **Tier 1: 普通 (Common)** - 灰色
    *   基础技能，角色初始携带或在早期关卡大量掉落。通常作为填充 AP 的手段。
*   **Tier 2: 稀有 (Uncommon)** - 绿色
    *   进阶技能，具备一定的特效（如流血、破甲）。是构建流派的基础组件。
*   **Tier 3: 卓越 (Rare)** - 蓝色
    *   核心技能，数值优秀或机制独特。通常决定了玩家战斗风格的走向。
*   **Tier 4: 史诗 (Epic)** - 紫色
    *   强力技能，通常在特定流派中能产生质变效果。获取途径有限（如关卡 20+ 或商店高价购买）。
*   **Tier 5: 传说 (Legendary)** - 金色
    *   终极技能，拥有扭转战局的能力（如无敌、全屏控制）。极其稀有，通常来自 Boss 战利品或隐藏事件。

---

## 3. 详细技能示例 (Skill Examples)

### 3.1 近战系技能

| 技能名称 | 流派 | 稀有度 | AP | 效果描述 | 战术用途 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **碎颅重击 (Skull Cracker)** | 重装 | 稀有 | 4 | 对头部造成 150% 物理伤害。若头部有护甲，额外造成 20 点破甲伤害。 | 破除重头盔敌人的防御 |
| **盾牌猛击 (Shield Bash)** | 重装 | 普通 | 3 | 对躯干造成少量伤害，并有 50% 概率使敌人下回合 [眩晕]。 | 控制高威胁敌人 |
| **震荡波 (Shockwave)** | 重装 | 卓越 | 4 | 猛击地面，对敌人所有部位造成少量伤害并减少其 10 点速度(1回合)。 | 减速控场，打断节奏 |
| **钢铁意志 (Iron Will)** | 铁壁 | 普通 | 2 | 立刻恢复躯干和头部 15 点护甲值。 | 紧急防御，防止致命伤 |
| **尖刺防御 (Spiked Shell)** | 铁壁 | 稀有 | 3 | 获得 [反伤] 状态 2 回合：近战攻击你的敌人受到 10 点伤害。 | 应对高频低伤敌人 (如哥布林) |
| **盾墙 (Shield Wall)** | 铁壁 | 史诗 | 5 | 消耗大量 AP，大幅提升本回合防御力，下回合 AP 恢复量 +2。 | 牺牲本回合行动以换取下回合爆发 |
| **血管切割 (Artery Slice)** | 剑术 | 普通 | 2 | 攻击四肢。若造成生命值伤害，施加 [流血 I] (每回合扣 5 HP，持续 3 回合)。 | 针对低护甲高血量敌人 |
| **弱点突刺 (Precision Thrust)** | 剑术 | 卓越 | 3 | 必定暴击 (1.5x)。只能攻击护甲已破损的部位。 | 收割残局 |
| **血腥收割 (Bloody Harvest)** | 剑术 | 史诗 | 3 | 对已有 [流血] 状态的敌人造成额外 50% 伤害，并刷新流血持续时间。 | 维持 Debuff 链，持续施压 |

### 3.2 远程系技能

| 技能名称 | 流派 | 稀有度 | AP | 效果描述 | 战术用途 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **连珠箭 (Quick Shot)** | 游侠 | 普通 | 1 | 造成 50% 伤害，但本回合若再次使用该技能，AP 消耗仍为 1 (通常技能重复使用会增加消耗)。 | 倾泻多余 AP，触发攻击特效 |
| **战术翻滚 (Tactical Roll)** | 游侠 | 稀有 | 2 | 闪避率提升 30%，且下一次攻击不消耗 AP。 | 攻防一体，调整节奏 |
| **毒液涂层 (Poison Coating)** | 游侠 | 卓越 | 2 | 此技能不造成伤害。使下一回合内的所有远程攻击附带 [中毒] 效果。 | 配合连珠箭快速叠毒 |
| **穿甲射击 (Piercing Bolt)** | 狙击 | 卓越 | 3 | 无视目标 50% 的护甲值直接造成伤害。 | 对抗高护甲敌人 |
| **致残射击 (Crippling Shot)** | 狙击 | 稀有 | 3 | 攻击腿部。造成伤害后，减少敌人 5 点速度，持续 2 回合。 | 限制高速敌人抢先手 |
| **弱点标记 (Mark Target)** | 狙击 | 普通 | 2 | 标记敌人某个部位，使该部位在下回合受到的伤害增加 30%。 | 引导集火，配合高伤技能 |

### 3.3 魔法系技能

| 技能名称 | 流派 | 稀有度 | AP | 效果描述 | 战术用途 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **火球术 (Fireball)** | 元素 | 普通 | 4 | 对目标造成高额火焰伤害，并施加 [燃烧] (每回合扣 10 HP，无视护甲)。 | 应对护甲极高的敌人 |
| **冰霜新星 (Frost Nova)** | 元素 | 卓越 | 3 | 造成少量伤害，但使敌人本回合无法使用 AP > 3 的技能。 | 封锁敌人的大招 |
| **燃油投掷 (Oil Slick)** | 元素 | 普通 | 2 | 投掷一瓶燃油，使敌人获得 [易燃] 状态。火属性伤害对该目标必定暴击。 | 元素反应前置技能 |
| **闪电链 (Chain Lightning)** | 元素 | 史诗 | 4 | 造成雷电伤害。若目标处于 [潮湿] 或 [铁甲] 状态，伤害增加 50%。 | 针对特定环境或装备的敌人 |
| **圣光术 (Holy Light)** | 神圣 | 普通 | 3 | 恢复 30 点 HP。 | 基础续航 |
| **神圣护盾 (Divine Shield)** | 神圣 | 传说 | 4 | 获得 [无敌] 状态，免疫下一次受到的任意伤害。 | 规避 Boss 的必杀技 |
| **净化之火 (Cleansing Fire)** | 神圣 | 卓越 | 3 | 解除自身所有 Debuff，每解除一个 Debuff 回复 10 点 HP。 | 转守为攻，应对负面状态 |

---

## 4. 技能组合体系 (Skill Synergy)

单纯堆砌数值不是游戏的精髓，通过技能产生的 **状态 (Status)** 进行联动才是高阶玩法。

### 4.1 物理联动 (Physical Chaos)
*   **组合**: **[破甲]** (由重装系提供) + **[弱点突刺]** (剑术系)
*   **效果**: 先用重锤砸烂敌人的胸甲，随后用细剑直接刺入心脏造成巨额暴击。

### 4.2 元素反应 (Elemental Reaction)
*   **组合**: **[油瓶投掷]** (物品/技能) + **[火球术]** (元素系)
*   **效果**: 被油浸泡的敌人受到火属性攻击时，产生爆炸，伤害翻倍并延长燃烧时间。

### 4.3 攻防转换 (Stance Switch)
*   **组合**: **[尖刺防御]** (铁壁系) + **[嘲讽]** (强制敌人攻击)
*   **效果**: 强制敌人攻击满状态的自己，利用反伤打死敌人，同时保护了自己的核心部位不被破坏。

### 4.4 速度压制 (Speed Domination)
*   **组合**: **[致残射击]** (狙击系) + **[极速连击]** (游侠系)
*   **效果**: 先打断敌人的腿使其速度降低，确保我在下一回合能比敌人先行动，且利用速度差造成额外伤害 (部分游侠技能受速度差加成)。

---

## 5. 技能设计约束 (Design Constraints)

本章节明确了在当前核心引擎 (CoreEngine) 和 回合制机制下，哪些技能设计是 **不支持** 或 **强烈不建议** 的。

### 5.1 机制冲突类 (Mechanic Conflicts)
*   **实时操作类技能 (Real-time Action)**
    *   *不支持*: "长时间蓄力"、"QTE (快速反应事件)"、"连点鼠标增加伤害"。
    *   *原因*: 游戏采用 **[规划 -> 统一结算]** 的机制。玩家在规划阶段的操作不应涉及时间精度；结算阶段由系统自动演示，玩家无法干预。
*   **动态目标变更 (Dynamic Retargeting)**
    *   *不支持*: "杀死一个敌人后，剩余伤害自动跳转到下一个敌人"。
    *   *原因*: 本游戏为 1v1 单挑机制 (Duel)，不存在"下一个敌人"。且技能的目标在规划阶段（Action Queue）就已经确定到具体的 **部位**。若目标部位在结算前被前置技能破坏，后续技能通常会打空或转移到默认部位（如躯干），而不是智能寻找新目标。

### 5.2 资源循环类 (Resource Loops)
*   **无限 AP 永动机 (Infinite AP)**
    *   *限制*: 任何 "回复 AP" 的技能，其 AP 消耗必须大于 0，且净收益应严格控制。
    *   *例如*: 不能设计 "消耗 1 AP，回复 2 AP" 的技能，这会导致玩家单回合内无限连招。推荐设计为 "消耗 3 AP，下回合回复 2 AP"（时间置换）。
*   **无限重置冷却 (Cooldown Reset)**
    *   *限制*: 能够 "刷新技能冷却" 的技能，其自身必须有极长的冷却或只能每场战斗使用 1 次。

### 5.3 状态叠加类 (Status Stacking)
*   **指数级数值膨胀**
    *   *限制*: 避免 "每次攻击伤害翻倍" 类的 Buff。
    *   *原因*: Roguelike 游戏中玩家能获得多种加成，指数级增长极易溢出。推荐使用 "线性叠加" (如每层 +10% 伤害，最大 5 层)。
*   **永久硬控 (Perma-Stun)**
    *   *限制*: 眩晕 (Stun)、冰冻 (Freeze) 等使敌人跳过回合的效果，必须有 "控制递减" 机制（连续控制概率降低）或 "免疫期"（被控后获得 1 回合免疫）。
